BUILDDIR = .
SRCDIR = ../src
INCDIR = ../include

C++ = h5c++
INC = -I $(INCDIR)
CFLAGS = -D_MPI -O3 -std=c++17 -fopenmp
BOOST = -lboost_system -lboost_filesystem

# Link to both Open MPI and HDF5 libraries
hub_2dsqlat_rt_mcmc_chi_ch_example : export HDF5_CXX = mpicxx
hub_2dsqlat_rt_mcmc_chi_ch_example : export HDF5_CLINKER = mpicxx
hub_2dsqlat_rt_mcmc_chi_ch_example : $(SRCDIR)/hub_2dsqlat_rt_mcmc_chi_ch_example.cpp
	$(C++) $(CFLAGS) $(INC) $(SRCDIR)/hub_2dsqlat_rt_mcmc_chi_ch_example.cpp -o $(BUILDDIR)/hub_2dsqlat_rt_mcmc_chi_ch_example.exe
	
clean:
	rm -f hub_2dsqlat_rt_mcmc_chi_ch_example.exe hub_2dsqlat_rt_mcmc_chi_ch_example.o
